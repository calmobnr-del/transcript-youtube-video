Please schedule dinner with my wife from
6:00 to 8:00 p.m. tomorrow night.
There it is. This AI agent may look the
same, but it operates completely
different, and I was able to build it
five times faster than a traditional
agent. In this video, we're going to
walk through step by step how to build
an MCP server in in N8 with no code in
about 60 seconds, and you'll be able to
reuse it over and over again in all of
your future workflows. To understand
what MCP is, let's first take a look at
how most people build their agentic
workflows today. In our parent workflow
for a traditional build, we have our
chat input. We have the agent, the
model, memory, and then we have a call
on a workflow tool. This is what we've
essentially built in order to make our
workflows modular, which is fantastic.
This has unlocked a lot of doors for us,
but it does come with some risk and
complexity. When you use a call in a
workflow tool, it goes down to a
subworkflow that looks something like
this. It receives the input, it takes it
to the agent, and then the agent using
the system prompt and user prompt as
context will call upon the correct tool.
And then it'll send a response back to
the parent workflow. Now, there's
actually two points of failure with this
approach. And the first is whether or
not the AI agent actually understands
which subworkflow or tool to call upon.
That is how good your prompt is.
Assuming it gets the right workflow,
then we come down to a second failure
point, which is once again whether or
not the agent understands which tool to
use to execute the job that it was asked
to do. What this can lead to is the
agent performing tasks that you didn't
necessarily intend for it to do purely
because the definition or the context
was incorrect. Moving over to MCP, let's
see what this looks like. You can see
the parent workflow looks about the
same. We've got our agent, the model,
memory, and then we have our tools. And
in this case, these are MCP clients. and
the MCP client calls upon the MCP
server. Coming down to our MCP server,
you can see that the workflow looks a
little bit different than our other
subworkflow. In this, we have only one
MCP server trigger. And then we've got
all of our tools inside of it. So for
this setup, I've got Google Calendar and
I've got all of my Google calendar
tools. I've got create event, get
events, update event, get single event,
delete event, and calendar availability.
And these are all used for completely
different things. But you're going to
notice inside of this, I have no system
prompt. I have no user prompt. All I
have is a server trigger that is allowed
to talk back and forth to the MCP
client. The way this essentially works
is when the request comes through, this
client calls off to the server and says,
"What tools do I have to execute this
task that we're looking to perform the
server then replies with all of the
tools that it has at its disposal and
that is given back to the agent to
decide, okay, based on the query, which
tool do I want to use to execute?" Once
the agent has decided, it sends that
back down through this node to the MCP
server to say, I would like to execute
with the create event tool and then the
agent executes on that. Now, with this
approach, we only have one failure point
and that is whether or not this AI agent
knows which MCP tool to call upon. And
so, depending on the workflow, this can
actually be a far simpler prompt as
well. You can see here that the prompt
that I'm using for this one is you're a
helpful assistant. Gmail MCP client use
this tool for all uh email related
queries. Google calendar MCP use this
tool for all calendar related queries
and then I note the date and time. Now
what this allows us to do is this allows
us to have a completely modular workflow
and it removes a lot of the area for
mistakes because it's calling on the
server to provide context on what tools
it has at its disposal. Now that we know
how this works, let's build this out
step by step. First, we're going to
start with our MCP server trigger.
You're going to come over here, type
MCP. You'll see MCP server trigger right
there. You'll see just like any other
web hook node, a test URL and production
URL. We'll come back to this in just a
minute, but that's where they're going
to be. Then we're going to add our tool.
So right here, we want to come to our
Google calendar tool for this example.
And let's make sure that we've selected
the correct calendar. The resources
event operation create the specific
calendar is going to be the demo. And
then the start and end time we're going
to set so that the agent can select
this. We're also going to add in a
couple of fields. We're going to add in
the description. and we're going to add
in the summary. And we're going to let
the agent decide how to fill these in as
well. Now, if you want, you can add in
all the rest of the uh the tools. For
this one, I'll just add one more. This
one is going to be our delete event. And
same thing, making sure that we have the
right calendar. And then we'll let the
agent select the event ID.
There we go. And I'm going to go ahead
and flip this over to active and save
it. Now, coming back over to our parent
workflow, let's do it like we usually
would. We're going to start with a chat
message,
then build our agent,
and we're just going to add our model
memory. And then we're going to add our
MCP client tool. Now, to configure the
MCP client tool, we're going to need our
SSE endpoint. We're actually going to
get that from our MCP server trigger.
Going to come back over here, and we're
going to flip over to production URL.
We're going to copy this and then we're
going to paste it right there. For this,
I'm going to leave the authentication
and path as is. But if you are going to
put this in production, it's best
practice to set both of these. Also,
it's worth noting that let's say that
you have all of the tools connected, but
you don't want to use all of the tools.
So, maybe with one agent, you want it to
have access to all the tools. With
another agent, you only want it to have
access to one or two. One of the nice
features about NAD's MCP is that you can
actually select which tools the agent
has the ability to use. Now, if you
compare this to something like
Enthropics MCP, you don't have the
ability to control which tools it uses.
All the tools are baked in. And so, it
limits your control on putting in guard
rails around the actions of the agent.
So, in this one, for example, if I don't
want the agent to be able to uh delete,
for example, I can come in here and say,
well, I only want you to be able to add.
Oh, and I just realized that I forgot to
name these. So, coming back over here,
let's name these tools. This one was
create event
there. And then this one is
delete event.
And now select the tools. And you can
see we've got delete event or create
event. So once again, if we don't want
it to be able to delete an event, we can
say, hey, we only want this agent to be
able to create an event. This just adds
to the modularity of these servers so
that you can use them across the board
and still have control over which agent
can do which task. For this demo, I'm
just going to set it to all so we can
show you how it works. Final step before
we test this, we just need to add in a
system message. We're going to come in
here and we're going to say, you are a
helpful assistant. We're going to set
this as an expression. Open this up. You
are a helpful assistant.
calendar MCP.
Please call on this tool
for queries
related to scheduling or
the calendar. Then I'm going to add a
reference for today's date and time.
Please note today's date and time. And
we're just going to do the curly
brackets.
There we go. And you can see it's
translated over. That looks good. Now,
we're going to save this. Let's go ahead
and run this test. So, I'm going to add
in a prompt. Please add a dinner to my
calendar for 6 p.m. tonight.
That's working. You can see the log
right here. Coming over here, you can
see that dinner has been added to my
calendar. And to wrap up, you now know
how to build MCP servers inside of
inade. Guys, if you got any value from
this, do me a favor and give me a like
and subscribe down below. And don't
forget to check out my free school
community where we drop free templates
and tons of value. We have over 5,000
members currently. We would love to have
you in there as well. Once again, thank
you so much for stopping by and I look
forward to seeing you in the next video.